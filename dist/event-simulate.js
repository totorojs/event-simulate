define("gallery/event-simulate/1.0.0/event-simulate",["$"],function(a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j,q){if(!a)throw"simulateKeyEvent(): Invalid target.";if(!l(b))throw"simulateKeyEvent(): Event type must be a string.";switch(b=b.toLowerCase()){case"textevent":b="keypress";break;case"keyup":case"keydown":case"keypress":break;default:throw"simulateKeyEvent(): Event type "+b+" not supported."}m(c)||(c=!0),m(d)||(d=!0),n(e)||(e=window),m(f)||(f=!1),m(g)||(g=!1),m(h)||(h=!1),m(i)||(i=!1),o(j)||(j=0),o(q)||(q=0);var r=null;if(k(p.createEvent)){try{r=p.createEvent("KeyEvents"),r.initKeyEvent(b,c,d,e,f,g,h,i,j,q)}catch(s){try{r=p.createEvent("Events")}catch(t){r=p.createEvent("UIEvents")}finally{r.initEvent(b,c,d),r.view=e,r.altKey=g,r.ctrlKey=f,r.shiftKey=h,r.metaKey=i,r.keyCode=j,r.charCode=q}}a.dispatchEvent(r)}else{if(!n(p.createEventObject))throw"simulateKeyEvent(): No event simulation framework present.";r=p.createEventObject(),r.bubbles=c,r.cancelable=d,r.view=e,r.ctrlKey=f,r.altKey=g,r.shiftKey=h,r.metaKey=i,r.keyCode=q>0?q:j,a.fireEvent("on"+b,r)}}function d(a,b,c,d,e,f,g,h,i,j,q,t,u,v,w,x){if(!a)throw"simulateMouseEvent(): Invalid target.";if(!l(b))throw"simulateMouseEvent(): Event type must be a string.";if(!r[b.toLowerCase()]&&!s[b])throw"simulateMouseEvent(): Event type "+b+" not supported.";m(c)||(c=!0),m(d)||(d="mousemove"!==b),n(e)||(e=window),o(f)||(f=1),o(g)||(g=0),o(h)||(h=0),o(i)||(i=0),o(j)||(j=0),m(q)||(q=!1),m(t)||(t=!1),m(u)||(u=!1),m(v)||(v=!1),o(w)||(w=0),x=x||null;var y=null;if(k(p.createEvent))y=p.createEvent("MouseEvents"),y.initMouseEvent?y.initMouseEvent(b,c,d,e,f,g,h,i,j,q,t,u,v,w,x):(y=p.createEvent("UIEvents"),y.initEvent(b,c,d),y.view=e,y.detail=f,y.screenX=g,y.screenY=h,y.clientX=i,y.clientY=j,y.ctrlKey=q,y.altKey=t,y.metaKey=v,y.shiftKey=u,y.button=w,y.relatedTarget=x),x&&!y.relatedTarget&&("mouseout"===b?y.toElement=x:"mouseover"===b&&(y.fromElement=x)),a.dispatchEvent(y);else{if(!n(p.createEventObject))throw"simulateMouseEvent(): No event simulation framework present.";switch(y=p.createEventObject(),y.bubbles=c,y.cancelable=d,y.view=e,y.detail=f,y.screenX=g,y.screenY=h,y.clientX=i,y.clientY=j,y.ctrlKey=q,y.altKey=t,y.metaKey=v,y.shiftKey=u,w){case 0:y.button=1;break;case 1:y.button=4;break;case 2:break;default:y.button=0}y.relatedTarget=x,a.fireEvent("on"+b,y)}}function e(a,b,c,d,e,f){if(!a)throw"simulateUIEvent(): Invalid target.";if(!l(b))throw"simulateUIEvent(): Event type must be a string.";if(b=b.toLowerCase(),!u[b])throw"simulateUIEvent(): Event type '"+b+"' not supported.";var g=null;if(m(c)||(c=b in v),m(d)||(d="submit"===b),n(e)||(e=window),o(f)||(f=1),k(p.createEvent))g=p.createEvent("UIEvents"),g.initUIEvent(b,c,d,e,f),a.dispatchEvent(g);else{if(!n(p.createEventObject))throw"simulateUIEvent(): No event simulation framework present.";g=p.createEventObject(),g.bubbles=c,g.cancelable=d,g.view=e,g.detail=f,a.fireEvent("on"+b,g)}}function f(a,b,c,d,e,f,g,h,j,k,q,r,s,t,u,v){var w;if(!i.ios||i.ios<2)throw"simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform.";if(!a)throw"simulateGestureEvent(): Invalid target.";if(!l(b))throw"simulateGestureEvent(): Event type must be a string.";if(b=b.toLowerCase(),!x[b])throw"simulateTouchEvent(): Event type '"+b+"' not supported.";m(c)&&(c=!0),m(d)&&(d=!0),n(e)&&(e=window),o(f)&&(f=2),o(g)&&(g=0),o(h)&&(h=0),o(j)&&(j=0),o(k)&&(k=0),m(q)&&(q=!1),m(r)&&(r=!1),m(s)&&(s=!1),m(t)&&(t=!1),o(u)&&(u=1),o(v)&&(v=0),w=p.createEvent("GestureEvent"),w.initGestureEvent(b,c,d,e,f,g,h,j,k,q,r,s,t,a,u,v),a.dispatchEvent(w)}function g(a,b,c,d,e,f,g,h,j,q,r,s,t,u,v,x,y,z,A){var B;if(!a)throw"simulateTouchEvent(): Invalid target.";if(!l(b))throw"simulateTouchEvent(): Event type must be a string.";if(b=b.toLowerCase(),!w[b])throw"simulateTouchEvent(): Event type '"+b+"' not supported.";if("touchstart"===b||"touchmove"===b){if(0===v.length)throw"simulateTouchEvent(): No touch object in touches"}else if("touchend"===b&&0===y.length)throw"simulateTouchEvent(): No touch object in changedTouches";if(m(c)||(c=!0),m(d)||(d="touchcancel"!==b),n(e)||(e=window),o(f)||(f=1),o(g)||(g=0),o(h)||(h=0),o(j)||(j=0),o(q)||(q=0),m(r)||(r=!1),m(s)||(s=!1),m(t)||(t=!1),m(u)||(u=!1),o(z)||(z=1),o(A)||(A=0),!k(p.createEvent))throw"simulateTouchEvent(): No event simulation framework present.";if(i.android)i.android<4?(B=p.createEvent("MouseEvents"),B.initMouseEvent(b,c,d,e,f,g,h,j,q,r,s,t,u,0,a),B.touches=v,B.targetTouches=x,B.changedTouches=y):(B=p.createEvent("TouchEvent"),B.initTouchEvent(v,x,y,b,e,g,h,j,q,r,s,t,u));else{if(!i.ios)throw"simulateTouchEvent(): Not supported agent yet, "+i.userAgent;if(!(i.ios>=2))throw"simulateTouchEvent(): No touch event simulation framework present for iOS, "+i.ios+".";B=p.createEvent("TouchEvent"),B.initTouchEvent(b,c,d,e,f,g,h,j,q,r,s,t,u,v,x,y,z,A)}a.dispatchEvent(B)}var h=a("$"),i=h.browser,j=Object.prototype.toString,k=function(a){return"[object Function]"===j.call(a)},l=function(a){return"[object String]"===j.call(a)},m=function(a){return"[object Boolean]"===j.call(a)},n=function(a){return a===Object(a)},o=function(a){return"[object Number]"===j.call(a)},p=document,q=function(a,b){for(var c in b)a[c]=b[c]},r={click:1,dblclick:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1,mousedown:1,mouseup:1,mousemove:1},s={MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},t={keydown:1,keyup:1,keypress:1},u={submit:1,blur:1,change:1,focus:1,resize:1,scroll:1,select:1},v={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},w={touchstart:1,touchmove:1,touchend:1,touchcancel:1},x={gesturestart:1,gesturechange:1,gestureend:1};q(v,r),q(v,t),q(v,w),b.simulate=function(a,b,h){if(a[0]&&(a=a[0]),h=h||{},r[b]||s[b])d(a,b,h.bubbles,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget);else if(t[b])c(a,b,h.bubbles,h.cancelable,h.view,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.keyCode,h.charCode);else if(u[b])e(a,b,h.bubbles,h.cancelable,h.view,h.detail);else if(w[b]){if(!(window&&"ontouchstart"in window)||i.phantomjs||i.chrome&&i.chrome<6)throw"simulate(): Event "+b+" can't be simulated. Use gesture-simulate module instead.";g(a,b,h.bubbles,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.touches,h.targetTouches,h.changedTouches,h.scale,h.rotation)}else{if(!(i.ios&&i.ios>=2&&x[b]))throw"simulate(): Event '"+b+"' can't be simulated.";f(a,b,h.bubbles,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.scale,h.rotation)}}});
